int rcm_receive_message() {
    
    unsigned int got = 0, need = 1024, bytes_read = 0;
    bool read_more = true;

    while(need) {
         
        cur_buf = next_buf;
        next_buf = get_next_dma_duf();

        if(need <= bytes_read) read_more = false;
        if(read_more) usb_tb1 -> read_ep1_out_async(cur_buf, 0x4000);

        if(bytes_read && got >= 680)

        if(read_more)


    }

}
